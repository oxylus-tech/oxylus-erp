{"version":3,"file":"components.js","sources":["../src/components/OxAction.vue","../src/components/OxActionModelDelete.vue","../src/components/OxActionPost.vue","../src/components/OxAppNavItem.vue","../src/components/OxAppNav.vue","../src/components/OxApp.vue","../src/components/OxAutocomplete.vue","../src/components/OxComponent.vue","../src/components/OxField.vue","../src/components/OxModelList.vue","../src/components/OxListFilters.vue","../src/components/OxFormListItem.vue","../src/components/OxFormList.vue","../src/components/OxListKanban.vue","../src/components/OxActionEdit.vue","../src/components/OxListTable.vue","../src/components/OxListCard.vue","../src/components/OxStateAlert.vue","../src/components/OxValidationBtn.vue","../src/components/OxLogin.vue","../src/components/OxPanel.vue","../src/components/OxView.vue","../src/components/OxModelEditor.vue","../src/components/OxModelEdit.vue","../src/components/OxModelPanel.vue","../src/components/index.ts"],"sourcesContent":["<template>\n    <template v-if=\"allowed\">\n        <v-btn v-if=\"props.button\" variant=\"text\" v-bind=\"attrs\"\n            :disabled=\"processing\"\n            :color=\"props.color\" :icon=\"props.icon\"\n            :title=\"props.title\" :aria-label=\"props.title\"\n            @click.stop=\"run\">\n        </v-btn>\n        <v-list-item v-else v-bind=\"attrs\"\n            :title=\"props.title\" :base-color=\"props.color\" :prepend-icon=\"props.icon\"\n            :disabled=\"processing\"\n            @click.stop=\"run\"/>\n    </template>\n</template>\n<script setup lang=\"ts\">\nimport {computed, defineProps, defineEmits, inject, useAttrs} from 'vue'\nimport {useAction} from '@oxylus/ox'\n\nimport type {ActionCompleted} from '@oxylus/ox'\nimport type {IActionProps} from '../composables/actions'\n\nconst props = defineProps<IActionProps>()\nconst attrs = useAttrs()\n\nconst emits = defineEmits<{\n    completed: ActionCompleted\n}>()\nconst user = inject('user')\nconst {run, processing, allowed} = useAction({user: user, emits, props})\n</script>\n","<template>\n    <ox-action v-bind=\"attrs\" :item=\"props.item\"\n        icon=\"mdi-delete\" color=\"error\"\n        :title=\"t('actions.delete')\" :confirm=\"t('actions.delete.confirm')\"\n        :permission=\"[props.item.constructor , 'delete']\"\n        :run=\"run\" @completed=\"panel?.show({view:panel.index})\"\n    />\n</template>\n<script setup lang=\"ts\">\nimport { defineProps, inject, useAttrs } from 'vue'\nimport { t } from '@oxylus/ox'\n\nimport OxAction from './OxAction.vue'\n\nconst panel = inject('panel')\nconst repos = inject('repos')\n\nconst attrs = useAttrs()\nconst props = defineProps<{\n    item: Object\n}>()\n\nasync function run(user, item) {\n    const repo = repos[item.constructor.entity]\n    return await repo.api().delete(item.$url(), {delete: props.item.id})\n}\n</script>\n","<template>\n    <ox-action v-bind=\"attrs\" :run=\"run\"/>\n</template>\n<script setup lang=\"ts\">\n/**\n * This action is used to make POST request for a specified model item.\n */\nimport { useAttrs } from \"vue\"\nimport OxAction from \"./OxAction\"\n\nconst attrs = useAttrs()\nconst props = defineProps({\n    /**\n     * URL path to append to item's url. Should be provided.\n     */\n    path: String,\n    /**\n     * HTTP method to use (upper or lower cased)\n     */\n    method: {type: String, default: 'post'},\n    /** Model repository to use */\n    repo: Object,\n    /** POST data to send (optional) */\n    data: Object,\n    /** Pinia-Orm AXIOS options */\n    options: Object,\n})\n\nasync function run(user, item) {\n    // For some reason directly call api()[props.method] does not pass down\n    // this argument.\n    const api = props.repo.api()\n    return await api[props.method].apply(api, [item.$url(props.path), props.data, props.options])\n}\n</script>\n","<template>\n    <template v-if=\"shouldShow(props)\">\n        <template v-if=\"props.type == 'group'\">\n            <v-list-group :value=\"props.name\">\n                <template #activator=\"{props:itemProps}\">\n                    <v-list-item v-bind=\"itemProps\"\n                        :title=\"props.title\" :prepend-icon=\"props.icon\" />\n                </template>\n\n                <template v-for=\"(sub, i) in props.items\" :key=\"i\">\n                    <ox-app-nav-item v-bind=\"sub\"\n                        :type=\"sub.type == 'group' ? 'subheader' : sub.type\" />\n                </template>\n            </v-list-group>\n        </template>\n        <template v-else-if=\"props.type == 'subheader'\">\n            <v-list-subheader>{{ props.title }}</v-list-subheader>\n            <template v-if=\"props.items\">\n                <ox-app-nav-item v-for=\"item of props.items\"\n                    v-bind=\"item\" />\n            </template>\n        </template>\n        <v-list-item v-else\n            :active=\"panels.panel == props.name\"\n            :value=\"props.name\"\n            :prepend-icon=\"props.icon\" :title=\"props.title\"\n            @click.stop=\"show\"/>\n    </template>\n</template>\n<script setup lang=\"ts\">\nimport { computed, defineProps, inject, ref } from 'vue'\nimport type {IPanelInfo} from '../controllers'\n\ninterface INavItemProps extends IPanelInfo {\n    /** Panel name */\n    name: string\n    /** Panels page **/\n    url?: string\n    /** Required permission */\n    permission?: string|string[]\n    /** Item type: subheader, divider, (item by default) */\n    type?: string,\n    /** Nested items */\n    items?: Record<string, INavItemProps>[]\n    // Unused but avoids warnings\n    order: number\n}\n\nconst props = defineProps<INavItemProps>()\n\nconst isOpen = ref(null)\nconst user = inject('user')\nconst panels = inject('panels')\nconst visible = computed(() => !props.auto || panel.name == props.name)\n\nfunction shouldShow(item) {\n    if(item.permission && !user.can(item.permission))\n        return false\n    if(item.items)\n        return item.items.some(x => shouldShow(x))\n    return true\n}\n\n\nfunction show() {\n    const vals = { panel: props.name, href: props.url }\n    panels.show(vals)\n}\n</script>\n","<template>\n    <v-navigation-drawer v-model=\"drawer\" theme=\"dark\">\n        <slot name=\"prepend\"/>\n        <v-list v-model:opened=\"opened\" density=\"compact\">\n            <template v-for=\"(item,i) in items\" :key=\"i\">\n                <ox-app-nav-item v-bind=\"item\"/>\n            </template>\n        </v-list>\n        <template #append>\n            <v-list><slot name=\"append\"/></v-list>\n        </template>\n    </v-navigation-drawer>\n</template>\n<script setup>\nimport { computed, defineModel, inject, ref } from 'vue'\n\nimport OxAppNavItem from './OxAppNavItem'\n\nconst context = inject('context')\nconst panels = inject('panels')\nconst drawer = defineModel('drawer')\nconst opened = ref([])\n\nconst props = defineProps({\n    items: Array\n})\n\nconst items = computed(() => {\n    updateOpened(props.items)\n    return props.items\n})\n\n/** Update opened items */\nfunction updateOpened(items) {\n    opened.value = getOpened(items)\n}\n\n/** Get opened menu items */\nfunction getOpened(items) {\n    if(panels.panel)\n        for(const item of items) {\n            if(item.items) {\n                const val = getOpened(item.items)\n                if(val)\n                    return [val, item.name]\n            }\n            else if(item.name == panels.panel)\n                return [item.name]\n        }\n}\n\n\n</script>\n","<template>\n    <v-app>\n        <v-snackbar v-model=\"context.showState\" :color=\"context.state.color\" multi-line>\n            {{ context.state.toString() }}\n        </v-snackbar>\n        <v-app-bar color=\"primary\">\n            <template v-slot:prepend>\n                <v-app-bar-nav-icon v-if=\"slots['nav-start'] || slots['nav-end']\" icon=\"mdi-apps\"\n                    :title=\"t('nav.panels')\" :aria-label=\"t('nav.panels')\"\n                    @click.stop=\"nav.drawer = !nav.drawer\"/>\n            </template>\n            <v-app-bar-title id=\"app-bar-sheet-title\"/>\n            <v-app-bar-title id=\"app-bar-title\">\n                <slot name=\"title\"/>\n            </v-app-bar-title>\n            <slot name=\"app-bar-left\"></slot>\n            <div id=\"app-bar-right\" class=\"mr-3\"></div>\n            <slot name=\"app-bar-right\"></slot>\n        </v-app-bar>\n        <ox-app-nav v-if=\"slots['nav-start'] || slots['nav-end']\" v-model:drawer=\"nav.drawer\" :items=\"context.data.nav\">\n            <template #prepend>\n                <a class=\"nav-home\" href=\"/\">\n                    <v-img v-if=\"logo\" :src=\"logo\" class=\"logo\"/>\n                </a>\n                <slot name=\"nav-start\" :context=\"context\"></slot>\n            </template>\n            <template #append v-if=\"slots['nav-end']\">\n                <v-list v-model:opened=\"nav.opened\">\n                    <slot name=\"nav-end\" :context=\"context\"></slot>\n                </v-list>\n            </template>\n        </ox-app-nav>\n        <v-main>\n            <slot name=\"main\">\n                <v-tabs-window v-model=\"panels.panel\">\n                    <template #default=\"bind\">\n                        <slot name=\"default\" v-bind=\"bind\" :context=\"context\"></slot>\n\n                        <v-tabs-window-item v-for=\"(name, slot) in panelsSlots\" :key=\"slot\" :value=\"name\">\n                            <slot :name=\"slot\" v-bind=\"bind\" :context=\"context\"/>\n                        </v-tabs-window-item>\n                    </template>\n                </v-tabs-window>\n            </slot>\n        </v-main>\n    </v-app>\n</template>\n<style>\n.nav-home {\n    display: block;\n    text-align: left;\n}\n.nav-home .logo {\n    max-height: 4em;\n    margin: 1em 1em 0.4em 1em;\n}\n</style>\n<script setup lang=\"ts\">\n/**\n * Application component, handling navigation and page layout.\n *\n * It is responsible of:\n *\n * - initialize application data and context (provide `context` and `user`)\n * - displays errors in `v-snackbar`\n *\n */\n\nimport { useSlots, withDefaults, onErrorCaptured, onMounted } from 'vue'\nimport { computed, defineProps, inject, provide, reactive, watch } from 'vue'\n\nimport {useAppContext, usePanels, t, filterSlots} from '@oxylus/ox'\nimport type {Model} from '../models'\nimport OxAppNav from './OxAppNav'\n\nconst slots = useSlots()\nconst panelsSlots = filterSlots(slots, \"panels.\")\n\ninterface Props {\n    /** Base url for API **/\n    apiUrl?: string\n    /** Sidebar logo **/\n    logo?: string\n    dataEl?: string\n    models?: Model[]\n    /** Data to load **/\n    data?: object\n}\n\nconst props = withDefaults(defineProps<Props>(), {\n    dataEl: document.body.dataset?.appData\n})\n\nconst nav = reactive({drawer: true})\n\nconst context = useAppContext(props)\nconst panels = usePanels()\n\nonMounted(() => { panels.panel = context.data.panel })\n\nwatch(() => [context.state.state, context.state.data], () => {\n    context.showState = true\n})\n\nonErrorCaptured((err, instance, info) => {\n    context.state.error(`${err}`)\n})\n</script>\n","<template>\n    <input type=\"hidden\" v-if=\"props.name\" :name=\"props.name\" :value=\"value\"/>\n    <v-autocomplete v-bind=\"attrs\"\n        :items=\"items\" :loading=\"state.isProcessing\"\n        v-model=\"value\"\n        v-model:search=\"search\"\n        >\n        <template v-for=\"_, slot in slots\" #[slot]=\"bind\">\n            <slot :name=\"slot\" v-bind=\"bind\"/>\n        </template>\n    </v-autocomplete>\n</template>\n<script setup lang=\"ts\">\nimport { debounce, unionBy } from 'lodash'\n\nimport type { Reactive, Ref } from 'vue'\nimport { defineExpose, defineModel, inject, reactive, ref, onMounted, useAttrs, useSlots, watch } from 'vue'\nimport type {Repository} from 'pinia-orm'\nimport { VAutocomplete } from 'vuetify/components/VAutocomplete'\n\nimport { useQuery, ifNotEqualFn } from '@oxylus/ox'\nimport type {IModelList, State} from '@oxylus/ox'\nimport type {Model, ModelId} from '@oxylus/ox/models'\n\nconst slots = useSlots()\n\n/** Model value **/\nconst value: Ref<ModelId|ModelId[]> = defineModel()\n/** Search string **/\nconst search: Ref<string> = ref(\"\")\n\n\ninterface IAutoCompleteProps {\n    /** Model's repository */\n    repo: Repository\n    /** Search lookup */\n    lookup: string\n    /** Field name */\n    name: string\n    /** Search filters */\n    filters: Object\n}\n\n\nconst props = withDefaults(defineProps<IAutoCompleteProps>(), {\n    lookup: 'search',\n})\nconst attrs = useAttrs()\nconst repos = inject('repos')\n\n// list props are not expected to change, only `filters`\nconst {state, query, fetch} = useQuery(props.repo, repos, {save: false})\n\n/** List items **/\nconst items: Reactive<Model[]> = reactive([])\n/** Selected items **/\nconst selected: Ref<Model[]> = ref([])\n\n\nasync function getItems(ids: ModelId|ModelId[]) {\n    const missingIds = ids && getMissing(ids)\n    if(missingIds?.length) {\n        const resp = await fetch({id: missingIds})\n        items.splice(0, 0, ...resp.entities)\n    }\n\n    updateSelected(ids)\n}\n\nfunction getMissing(ids: ModelId|ModelId[]): ModelId[]|null {\n    if(!Array.isArray(ids))\n        return items.findIndex((v) => v.id == ids) == -1 ? [ids] : null\n\n    const itemIds = new Set(items.map(item => item.id))\n    return ids.filter(id => !itemIds.has(id))\n}\n\nfunction updateSelected(ids: ModelId|ModelId[]) {\n    if(Array.isArray(ids))\n        selected.value = items.filter(v => ids.includes(v.id))\n    else if(ids)\n        selected.value = [items.find(v => v.id == ids)]\n    else\n        selected.value = []\n}\n\n\nlet lastSearch = null\nconst load = debounce(async ({reset=false}={}) => {\n    // Using debounce is tricky: it delays calling function\n    // This means:\n    // - we need to fetch the actual search value when function is run\n    // - we are delayed between search/filters update\n    //\n    // - we provides reset to:\n    //   - force loading even if search is the same as last one\n    //   - reset search (v-autocomplete resets search.value when items is updated.\n    if(state.isProcessing)\n        return\n\n    const q = search.value != '<empty string>' && search.value || ''\n    if(!reset && q == lastSearch)\n        return\n    lastSearch = q\n\n    const filters = {...props.filters, page_size: 20}\n    filters[props.lookup] = q\n    let resp = await fetch({params: filters})\n\n    const entities = selected.value ?\n        unionBy(resp.entities, selected.value, (v) => v.id) :\n        resp.entities\n\n    items.splice(0, items.length, ...entities)\n\n    if(!reset) {\n        // When item is not provided we ensure it is here\n        // value.value && await getItems(value.value)\n        search.value = q\n    }\n}, 500)\n\n\n\n// --- Watchers\nonMounted(async () => {\n    await load()\n    value.value && await getItems(value.value)\n})\n\nwatch(() => props.filters, ifNotEqualFn(() => load({reset: true})))\nwatch(search, val => {\n    // v-autocomplete set search to \"<empty string>\"\n    // when items are updated, search is reset\n    if(val != '<empty string>' && val != lastSearch)\n        load({q: val})\n})\nwatch(value, (val, old) => {\n    val != old && updateSelected(val)\n})\n\n\ndefineExpose({ value, selected, load, items })\n</script>\n","<script>\nimport { h, computed, shallowRef, watch } from 'vue'\nimport { defineAsyncComponent } from '@oxylus/ox'\n\nexport default {\n    props: {\n        src: String,\n        is: String,\n    },\n\n    setup(props) {\n        const component = shallowRef(null)\n\n        const is = computed(() => {\n            if(props.is)\n                return props.is\n\n            let name = props.src.substring(props.src.lastIndexOf('/')+1)\n            if(name)\n                name = name.substring(0, name.indexOf('.'))\n            if(!name)\n                throw Error(\n                    \"`is` not provided and could not be deducted from `src`.\"\n                )\n            return name\n        })\n\n        function reset() {\n            component.value = defineAsyncComponent(props.src, is.value)\n        }\n\n        watch(() => props.src, reset)\n\n        reset()\n        return () => h(component.value, props)\n    },\n}\n</script>\n","<template>\n    <!-- @slot default slot providing all values for custom field.\n        @binding {String} props field props as used by Vuetify\n        @binding {ModelEditor} editor the editor\n        -->\n    <slot name=\"default\" :props=\"fieldProps\" :editor=\"props.editor\">\n        <template v-if=\"props.type == 'select'\">\n            <v-select v-bind=\"fieldProps\"\n                v-model=\"props.editor.value[props.name]\"/>\n        </template>\n        <template v-else-if=\"props.type == 'textarea'\">\n            <v-textarea v-bind=\"fieldProps\"\n                v-model=\"props.editor.value[props.name]\"/>\n        </template>\n        <template v-else-if=\"props.type == 'checkbox'\">\n            <v-checkbox v-bind=\"fieldProps\"\n                v-model=\"props.editor.value[props.name]\"/>\n        </template>\n        <template v-else-if=\"props.type == 'autocomplete'\">\n            <ox-autocomplete v-bind=\"fieldProps\"\n                v-model=\"props.editor.value[props.name]\">\n                <template v-for=\"_, name in slots\" :key=\"slot\"\n                    #[name]=\"bind\">\n                    <slot :name=\"name\" v-bind=\"bind\"/>\n                </template>\n            </ox-autocomplete>\n        </template>\n        <template v-else>\n            <v-text-field v-bind=\"fieldProps\" :type=\"props.type\"\n                v-model=\"props.editor.value[props.name]\"/>\n        </template>\n    </slot>\n</template>\n<script setup lang=\"ts\">\n/**\n * This is a simple wrapper around form input in order to ease integration\n * with {@link Editor}, translation.\n *\n * Slots:\n * - `default`: props, editor\n *\n * Event:\n * - `update:modelValue`: value has changed\n */\n\nimport {computed, defineEmits, defineAsyncComponent, useAttrs, useSlots} from 'vue'\nimport {t, rules} from '@oxylus/ox'\n\nconst OxAutocomplete = defineAsyncComponent(() => import('./OxAutocomplete.vue'))\n\nconst emits = defineEmits(['update:modelValue'])\nconst attrs = useAttrs()\nconst slots = useSlots()\nconst props = defineProps({\n    /** Field or attribute name */\n    name: String,\n    /** Editor to use **/\n    editor: Object,\n    /** If true, add a required rule */\n    required: Boolean,\n    /**\n     * If provided, will by default generate a field depending on the value:\n     *\n     * - `textarea`: creates a `v-textarea`;\n     * - `select`: creates a `v-select`;\n     * - `checkbox`: create a `v-checkbox`;\n     * - `date`: create a `v-date-input`;\n     * - `autocomplete`: create a `ox-autocomplete`;\n     * - any other value: `v-text-field` with supplied type;\n     */\n    type: String,\n    /**\n     * Field rules as provided to Vuetify field inputs.\n     */\n    rules: Array\n})\n\nconst fieldProps = computed(() => {\n    const helpKey = `fields.${props.name}.help`\n    const obj = {\n        \"name\": props.name,\n        \"label\": t(`fields.${props.name}`),\n        \"aria-label\": t(`fields.${props.name}`),\n        \"error-messages\": props.editor.error(props.name),\n        \"rules\": props.rules || [],\n        \"onUpdate:modelValue\": (...args) => emits('update:modelValue', ...args),\n        ...attrs\n    }\n\n    const helpText = t(helpKey)\n    if(helpText != helpKey) {\n        obj[\"hint\"] = helpText\n        obj[\"aria-description\"] = helpText\n    }\n\n    if(props.required)\n        obj['rules'].push(rules.required)\n    return obj\n})\n\n</script>\n","<template>\n    <!--\n        @slot Wrap around the `v-list`.\n        @binding {ModelList} list the ModelList instance\n        @binding {Model[]} items the items of the ModelList\n    -->\n    <slot name=\"default\" :list=\"list\" :items=\"items\">\n        <v-list v-bind=\"attrs\">\n            <!--\n                @slot Default slot inside `v-list`\n                @binding {ModelList} list the ModelList instance\n                @binding {Model[]} items the items of the ModelList\n            -->\n            <slot name=\"list\" :list=\"list\" :items=\"items\">\n                <v-list-item v-for=\"item in items\" :key=\"item.id\">\n                    <!--\n                        @slot Default slot inside `v-list-item`\n                        @binding {Object} item the item being rendered.\n                        @binding {Object} list the ModelList instance.\n                    -->\n                    <slot name=\"item\" :list=\"list\" :item=\"item\"/>\n\n                    <template #append>\n                        <!--\n                            @slot Extra actions inside `v-list-item`.\n                            @binding {Object} item the item being rendered.\n                            @binding {Object} list the ModelList instance.\n                        -->\n                        <slot name=\"item.actions\" :list=\"list\" :item=\"item\" />\n                        <v-btn v-if=\"props.editable\"\n                            type=\"button\" class=\"ml-2\" size=\"small\" color=\"error\"\n                            @click.stop.prevent=\"remove(item.id)\"\n                            :aria-label=\"t('actions.remove')\"\n                            :title=\"t('actions.remove')\"\n                            icon=\"mdi-delete\"/>\n                    </template>\n                </v-list-item>\n            </slot>\n        </v-list>\n    </slot>\n</template>\n<script setup lang=\"ts\">\n/**\n * This component renders a list of items provided by id using a {@link ModelList}.\n *\n * The default implementation renders a `v-list`.\n */\nimport { defineModel, defineExpose, onMounted, watch, useSlots, useAttrs } from 'vue'\nimport { useModelList, Query, t, ifNotEqual } from '@oxylus/ox'\n\n/**\n * The list of ids to fetch.\n */\nconst ids = defineModel()\nconst slots = useSlots()\n\nconst props = defineProps({\n    /**\n     * The model repository to use.\n     */\n    repo: Object,\n    /**\n     * Allow to remove items from the list.\n     */\n    editable: Boolean,\n})\nconst attrs = useAttrs()\n\nconst {list, items} = useModelList({\n    query: new Query(props.repo)\n})\n\n\nfunction remove(id) {\n    // for some reason, watch isn't triggered on remove\n    list.remove(id)\n    ids.value = [...list.ids]\n}\n\n\nonMounted(() => ids.value.length && list.load({id: ids.value}))\nwatch(ids, (val) => val.length && ifNotEqual(val, list.ids, (val) => val.length && list.load({id: val})))\nwatch(() => list.ids, (val) => (ids.value = [...val]))\n\ndefineExpose({ list, items })\n</script>\n","<template>\n    <form @submit.prevent=\"list.load()\" class=\"ox-list-filters width-full\">\n        <v-toolbar dense color=\"transparent\">\n            <v-app-bar-nav-icon :icon=\"icon\" readonly/>\n            <v-text-field v-if=\"props.search && list.filters\"\n                :label=\"t('filters.search')\" density=\"compact\" class=\"ml-2\"\n                v-model=\"list.filters[props.search]\"\n                hide-details/>\n            <slot :list=\"list\" :filters=\"list.filters\"/>\n            <v-btn @click.stop=\"list.load()\" class=\"ml-2\" icon=\"mdi-check\"\n                :aria-label=\"$t('filters.apply')\"\n                :title=\"t('filters.apply')\"\n            />\n            <v-btn v-if=\"hasFilters\" @click.stop=\"reset\" icon=\"mdi-backspace\"\n                :aria-label=\"t('filters.reset')\"\n                :title=\"t('filters.reset')\"\n            />\n        </v-toolbar>\n    </form>\n</template>\n<script setup>\nimport { computed, defineProps, defineExpose, inject } from 'vue'\nimport { t } from '@oxylus/ox'\n\nconst list = inject('list')\nconst props = defineProps({\n    search: String,\n})\n\nconst hasFilters = computed(() => {\n    const filters = list.filters\n    return filters && Object.entries(filters).some(\n        ([k,v]) => !k.startsWith('page') && !k.startsWith('ordering') && !!v\n    )\n})\nconst icon = computed(() => hasFilters.value ? 'mdi-filter-check' : 'mdi-filter-outline')\n\nfunction reset() {\n    list.filters = {}\n    list.load()\n}\n\ndefineExpose({ icon, hasFilters, reset})\n</script>\n","<template>\n    <v-list-item v-bind=\"attrs\">\n        <v-list-item-title>\n            <!--\n                @slot Item title\n                @binding {Object} item - item currently displayed\n            -->\n            <slot name=\"default\" :item=\"item\"/>\n        </v-list-item-title>\n        <template #append>\n            <div @click.stop=\"\">\n                <!--\n                    @slot Item action\n                    @binding {Object} item - item currently displayed\n                -->\n                <slot name=\"actions\" :item=\"item\"/>\n                <template v-if=\"props.remove\">\n                    <v-btn type=\"button\" class=\"ml-2\" size=\"small\"\n                        @click.stop.prevent=\"emits('remove', $events)\" color=\"error\"\n                        :aria-label=\"t('actions.remove')\"\n                        :title=\"t('actions.remove')\"\n                        icon=\"mdi-delete\"/>\n                </template>\n            </div>\n        </template>\n    </v-list-item>\n</template>\n<script setup lang=\"ts\">\n/**\n * An element inside an {@link OxFormList}.\n *\n * Attributes will be forwarded to inner `v-list-item`.\n */\nimport { defineModel, defineEmits, useAttrs } from 'vue'\nimport { t } from '@oxylus/ox'\n\nconst props = defineProps({\n    /** Item being displayed. **/\n    item: Object,\n    /** Display remove button. **/\n    remove: Boolean,\n})\n/**\n * Remove item button has been clicked. The click event data is passed along.\n * @event remove\n */\nconst emits = defineEmits('remove')\n\nconst attrs = useAttrs()\n</script>\n","<template>\n    <v-list v-model:opened=\"opened\">\n        <template v-if=\"items?.length\">\n            <template v-if=\"can.change\">\n                 <v-list-group v-for=\"item, index in items\" :key=\"index\" :value=\"index\">\n                    <template #activator=\"{props}\">\n                        <ox-form-list-item :item=\"item\" v-bind=\"props\"\n                                :remove=\"can.delete\"\n                                @remove=\"removeItem(index)\">\n                            <template #default=\"{item}\">\n                                <!--\n                                    @slot Item's content\n                                    @binding {Object} item item being displayed\n                                    @binding {Number} index item's index.\n                                -->\n                                <slot name=\"item\" :item=\"item\" :index=\"index\"/>\n                            </template>\n                            <template #actions=\"{item}\">\n                                <!--\n                                    @slot Item' actions content\n                                    @binding {Object} item item being displayed\n                                    @binding {Number} index item's index.\n                                -->\n                                <slot name=\"item.actions\" :item=\"item\" :index=\"index\"/>\n                            </template>\n                        </ox-form-list-item>\n                    </template>\n                    <v-form :disabled=\"!can.change\">\n                        <!--\n                            @slot Item' edit and add form\n                            @binding {Object} item item being edited\n                            @binding {Number} index item's index.\n                            @binding {Boolean} editable true if content is editable.\n                        -->\n                        <slot name=\"item.form\" :item=\"item\" :index=\"index\" :editable=\"can.change\"/>\n                    </v-form>\n                </v-list-group>\n            </template>\n            <template v-else>\n                <template v-for=\"item, index in items\" :key=\"index\">\n                    <ox-form-list-item :item=\"item\" v-bind=\"props\"\n                            :value=\"index\"\n                            :remove=\"can.delete\"\n                            @remove=\"removeItem(index)\">\n                        <template #default=\"{item}\">\n                            <slot name=\"item\" :item=\"item\" :index=\"index\"/>\n                        </template>\n                        <template #actions=\"{item}\">\n                            <slot name=\"item.actions\" :item=\"item\" :index=\"index\"/>\n                        </template>\n                    </ox-form-list-item>\n                </template>\n            </template>\n        </template>\n        <template v-else>\n            <v-list-item :title=\"t('lists.empty')\" />\n        </template>\n        <template v-if=\"can.add\">\n            <v-divider v-if=\"items.length\"/>\n            <v-list-group :value=\"-1\">\n                <template #activator=\"{props}\">\n                    <v-list-item v-bind=\"props\" :title=\"t('actions.add_item')\" prepend-icon=\"mdi-plus\"/>\n                </template>\n                <v-form>\n                    <slot name=\"item.form\" :item=\"newItem\" :edit=\"true\"/>\n                </v-form>\n                <v-list-item v-if=\"newItem\">\n                    <div v-if=\"Object.values(newItem).length\"\n                            class=\"flex-row justify-right\">\n                        <v-btn size=\"small\" color=\"secondary\" prepend-icon=\"mdi-backspace\"\n                            @click=\"newItem={}\"\n                            :aria-label=\"t('actions.discard')\">\n                            {{ t('actions.discard') }}\n                        </v-btn>\n                        <v-btn  size=\"small\" color=\"primary\" prepend-icon=\"mdi-plus\" class=\"ml-2\"\n                            @click=\"addItem()\"\n                            :aria-label=\"t('actions.add')\">\n                            {{ t('actions.add') }}\n                        </v-btn>\n                    </div>\n                </v-list-item>\n            </v-list-group>\n        </template>\n    </v-list>\n</template>\n<script setup lang=\"ts\">\n/**\n * This component provides simple list rendering and edition.\n *\n * It wraps around `v-list` and uses {@link OxFormListItem} as items.\n */\nimport {computed, defineModel, defineProps, inject, ref, reactive, provide, toRefs} from \"vue\"\nimport {t} from \"@oxylus/ox\"\n\nimport OxFormListItem from './OxFormListItem'\n\n/** @model the list of items. **/\nconst items = defineModel()\nconst user = inject('user')\nconst newItem = ref({})\nconst props = defineProps({\n    /** Use this model **/\n    useModel: Function,\n    /** Content is editable **/\n    editable: Boolean,\n})\n\nconst can = computed(() => ({\n    add: props.editable && user.can([props.useModel, 'add']),\n    change: props.editable && user.can([props.useModel, 'change']),\n    delete: props.editable && user.can([props.useModel, 'delete']),\n}))\n\nconst opened = ref([]);\n\nif(!items.value?.length)\n    opened.value.push(-1)\n\nfunction addItem() {\n    items.value.push(newItem.value)\n    newItem.value = {}\n}\n\nfunction removeItem(index) {\n    if(confirm(t('actions.delete.confirm')))\n        items.value.splice(index, 1)\n}\n</script>\n","<template>\n    <v-sheet>\n    <v-slide-group>\n        <v-slide-group-item v-for=\"(header, idx) in props.headers\" :key=\"header.value\"\n            v-slot=\"{selectedClass}\">\n            <v-card width=\"400\" :class=\"['ma-3', selectedClass]\"\n                    :color=\"color(idx)\" lines=\"two\">\n                <v-card-title>{{ header.title }}</v-card-title>\n                <v-list :bg-color=\"color(idx)\">\n                    <template v-if=\"sorted && sorted[header.value]\">\n                        <template v-for=\"item in sorted[header.value]\" :key=\"item.id\">\n                            <slot name=\"item\" :header=\"header\" :item=\"item\">\n                                <v-list-item :title=\"item[props.itemTitle]\"\n                                        :value=\"props.itemValue && item[props.itemValue]\"\n                                        @click=\"emits('click', item)\">\n                                    <template #append>\n                                        <slot name=\"item.action\"></slot>\n                                    </template>\n                                </v-list-item>\n                            </slot>\n                        </template>\n                    </template>\n                </v-list>\n            </v-card>\n        </v-slide-group-item>\n    </v-slide-group>\n    </v-sheet>\n</template>\n<script setup>\nimport { computed, defineEmits, defineProps, inject } from 'vue'\n\nconst emits = defineEmits(['click'])\nconst list = inject('list')\nconst items = inject('items')\n\nconst props = defineProps({\n    itemTitle: String,\n    itemValue: String,\n    field: String,\n    headers: Array,\n    colors: {type: Array, default: () => [\n        'purple', 'blue', 'teal', 'lime', 'orange', 'blue-gray',\n        'pink', 'indigo', 'cyan', 'light-green', 'amber', 'brown',\n        'red', 'deep-purple', 'light-blue', 'green', 'yellow', 'deep-orange'\n    ]},\n    colorVariant: {type: String, default: 'lighten-2'},\n})\n\n\nfunction color(idx) {\n    idx = idx % props.colors.length\n    if(props.colorVariant)\n        return props.colors[idx] + '-' + props.colorVariant\n    return props.colors[idx]\n}\n\n\nfunction assign(result, item, val) {\n    if(result[val])\n        !result[val].includes(item) && result[val].push(item)\n    else\n        result[val] = [item]\n}\n\nconst sorted = computed(() => {\n    const result = {}\n    if(items.value)\n        for(var item of items.value) {\n            const vals = item[props.field]\n            if(Array.isArray(vals)) {\n                if(vals.length)\n                    for(var val of vals)\n                        assign(result, item, val)\n                else\n                    assign(result, item, null)\n            }\n            else\n                assign(result, item, vals)\n        }\n    return result\n})\n</script>\n","<template>\n    <ox-action v-if=\"props.edit && user.can([item.constructor, 'change'], item)\"\n        v-bind=\"attrs\" icon=\"mdi-pencil\"\n        :title=\"t('actions.edit')\"\n        :item=\"item\"\n        :run=\"show\"/>\n    <ox-action v-else-if=\"props.edit && user.can([item.constructor, 'view'], item)\"\n        v-bind=\"attrs\" icon=\"mdi-eye-outline\"\n        :title=\"t('actions.view')\"\n        :item=\"item\"\n        :run=\"show\"/>\n</template>\n<script setup lang=\"ts\">\nimport { defineProps, inject, useAttrs } from 'vue'\nimport { t } from '@oxylus/ox'\n\nimport OxAction from './OxAction.vue'\n\nconst panel = inject('panel')\nconst repos = inject('repos')\nconst user = inject('user')\n\nconst attrs = useAttrs()\nconst props = defineProps<{\n    item: Object\n    edit: Boolean\n}>()\n\nfunction show(user, item) {\n    panel.show({view: 'detail.edit', value: item})\n}\n</script>\n","<template>\n    <v-data-table-server\n            :items=\"props.items\" item-index=\"id\"\n            :items-length=\"props.list.count || props.items.length\"\n            :items-per-page=\"props.list.page_size\"\n            :hide-default-footer=\"(props.list.count || props.items.length || 0) < props.list.page_size\"\n            :loading=\"props.list.state?.isProcessing\"\n            :headers=\"headers\"\n            :no-data-text=\"t('lists.empty')\"\n            class=\"align-top-table\"\n            @update:options=\"updateOptions\">\n        <template v-if=\"slots['item.image']\" #item.image=\"{item}\">\n            <slot name=\"item.image\" :item=\"item\">\n                <v-img v-if=\"item[props.image]\" :src=\"item[props.image]\" class=\"preview\" cover max-height=\"200\"/>\n            </slot>\n        </template>\n\n        <template v-for=\"(_, name) in itemSlots\" :key=\"name\" v-slot:[name]=\"bind\">\n            <slot :name=\"name\" v-bind=\"bind\"/>\n        </template>\n\n        <template #item.actions=\"{item}\">\n            <ox-action-edit button :item=\"item\" :edit=\"props.edit\"/>\n            <slot name=\"item.actions\" :item=\"item\" :dense=\"true\" :button=\"true\"/>\n        </template>\n    </v-data-table-server>\n</template>\n<style>\n.align-top-table td {\n  /*vertical-align: top;*/\n}\n</style>\n<script setup lang=\"ts\">\n/**\nProvide a wrapper around `v-data-table` that is used to display {@link ModelList}.\n\nIt provides:\n\n- integrates to {@link ModelList};\n- add an extra column for actions with preset ones (view/edit);\n- translate headers titles;\n\nSlots:\n\n- item.actions[value=item, dense=true, button=true]:\n\n  This slot is used to add actions. The attributes can be passed down to an\n  OxAction instance.\n\n- *: forwarded down to `v-data-table`\n\n*/\n\nimport { computed, defineProps, inject, ref, toRefs, useSlots } from 'vue'\n\nimport { t, tKeys } from '@oxylus/ox'\n// import { Permissions } from '../models'\nimport { filterSlots } from '../utils'\nimport OxAction from './OxAction'\nimport OxActionEdit from './OxActionEdit'\n\nconst slots = useSlots()\nconst itemSlots = filterSlots(slots, 'item.', {exclude: ['item.actions', 'item.image']})\n\nconst panel = inject('panel')\nconst user = inject('user')\n\nconst props = defineProps({\n    /** ModelList used to display objects **/\n    list: Object,\n    /** List items (cf. {@link useModelList}) **/\n    items: Array,\n    /** Table headers **/\n    headers: Array,\n    /** If True, display edit/view button **/\n    edit: Boolean,\n    /** If provided, use this item field as image **/\n    image: String,\n})\n\nconst headers = computed(() => {\n    const items = [];\n    if(props.image || slots['item.image'])\n        items.push({'key': 'image', title:''})\n\n    return items.concat(\n        props.headers.reduce((dst, field) => {\n            dst.push(\n                (typeof(field) == 'string') ?\n                {key: field, title: t(tKeys.field(field))} :\n                {key: field.key, title: t(field.title) }\n            )\n            return dst\n        }, [])\n    )\n})\n\nfunction updateOptions(event) {\n    const params = {\n        ...props.list.filters,\n        page: event.page,\n        page_size: event.itemsPerPage,\n        ordering: event.sortBy.map(({key, order}) => order == 'asc' ? key : `-${key}`)\n    }\n    props.list.page_size = event.itemsPerPage\n    props.list.load({params})\n}\n\n</script>\n","<template>\n    <v-container class=\"card-grid\">\n        <template v-for=\"item in props.items\" :key=\"item.id\">\n            <v-card density=\"compact\"\n                :title=\"headers[0].key && item[headers[0].key]\" :subtitle=\"headers[1]?.key && item[headers[1].key]\">\n\n                <template #title v-if=\"slots[headers[0].slot]\">\n                    <slot :name=\"headers[0].slot\" :item=\"item\"/>\n                </template>\n\n                <template #subtitle v-if=\"slots[headers[1]?.slot]\">\n                    <slot :name=\"headers[1].slot\" :item=\"item\"/>\n                </template>\n\n                <div class=\"d-flex flex-no-wrap justify-space-between\">\n                    <div v-if=\"slots['item.image'] || props.image\">\n                        <v-avatar rounded=\"0\" size=\"125\">\n                            <slot name=\"item.image\" :item=\"item\">\n                                <v-img :src=\"props.image\"/>\n                            </slot>\n                        </v-avatar>\n                    </div>\n                    <div>\n                        <v-card-item v-if=\"!slots['item.default'] && (headers.length > 2 || itemSlots.length)\">\n                            <div>\n                                <template v-for=\"header in headers\">\n                                    <div v-if=\"!notHeaders.has(header.key)\">\n                                        <v-label :text=\"header.title + ':'\" class=\"mr-2\"/>\n                                        <slot :name=\"header.slot\" :item=\"item\">\n                                            <template v-if=\"!isEmpty(item[header.key])\">\n                                                {{ item[header.key] }}\n                                            </template>\n                                        </slot>\n                                    </div>\n                                </template>\n                            </div>\n                        </v-card-item>\n\n                        <v-card-actions>\n                            <ox-action-edit button :item=\"item\" :edit=\"props.edit\" size=\"small\"/>\n                            <slot name=\"item.actions\" :item=\"item\" :button=\"true\" size=\"small\"/>\n                        </v-card-actions>\n                    </div>\n                </div>\n            </v-card>\n        </template>\n    </v-container>\n</template>\n<style scoped>\n.card-grid {\n    display: grid;\n    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));\n    gap: 16px;\n}\n</style>\n<script setup lang=\"ts\">\n/**\n * Provide a list whose values are displayed in cards grid, with API\n * similar to {@link OxListTable}.\n *\n * It set title to first header, subtitle to the second if provided.\n */\nimport { computed, onMounted, useSlots } from 'vue'\nimport { isEmpty } from 'lodash'\nimport { filterSlots, t } from '@oxylus/ox'\nimport OxActionEdit from './OxActionEdit'\n\nconst slots = useSlots()\n// FIXME: only keep values\nconst itemSlots = filterSlots(slots, \"item.\", {exclude: [\"item.actions\", \"item.image\"]})\n\n\nconst props = defineProps({\n    /** ModelList used to display objects **/\n    list: Object,\n    /** List items (cf. {@link useModelList}) **/\n    items: Array,\n    /** Displayed fields, where the first value is set as title **/\n    headers: Array,\n    /** If True, display edit/view button **/\n    edit: Boolean,\n    /** Field name used as image **/\n    image: String,\n})\n\nconst headers = computed(() => {\n    if(!props.headers)\n        return []\n\n    const items = []\n    for(var header of props.headers) {\n        header = typeof header == \"string\" ? {key: header, title: t('fields.' + header) } : {...header}\n        header.slot = `item.${header.key}`\n        items.push(header)\n    }\n    return items\n})\n\n\nconst notHeaders = computed(() => new Set([\n    headers.value[0].key, headers.value[1]?.key, props.image\n]))\n\nonMounted(() => !props.list.length && props.list.load())\n</script>\n","<template>\n    <v-alert v-if=\"props.state.isNone && slots.none\" type=\"info\" variant=\"tonal\" class=\"mb-3\"\n            :state=\"state\" :title=\"noneTitle\">\n        <slot name=\"none\" :state=\"state\"></slot>\n    </v-alert>\n    <v-alert v-else-if=\"displayProcessing\" type=\"info\" variant=\"tonal\" class=\"mb-3\" closable\n            :state=\"state\" :title=\"processingTitle\">\n        <slot name=\"processing\" :state=\"state\">\n            Data are being sent to server, please be patient. If this message persist you might wan't to retry.\n        </slot>\n    </v-alert>\n    <v-alert v-else-if=\"props.state.isError\" type=\"error\" variant=\"tonal\" class=\"mb-3\" closable\n            :state=\"state\" :title=\"errorTitle\" >\n        <slot name=\"error\" :state=\"state\">\n            Oups... something wrong happened.\n        </slot>\n        <slot name=\"error-detail\" :state=\"state\">\n        </slot>\n    </v-alert>\n    <v-alert v-else-if=\"props.state.isOk\" type=\"success\" variant=\"tonal\" class=\"mb-3\" closable\n            :state=\"state\" :title=\"okTitle\">\n        <slot name=\"ok\" :state=\"state\">\n            <p>Congrats! Data have been updated.</p>\n        </slot>\n        <template v-if=\"messages\">\n            <v-divider/>\n            <p v-for=\"message in messages\">{{ message }}</p>\n        </template>\n        <slot name=\"ok-detail\" :state=\"state\"></slot>\n    </v-alert>\n    <slot :state=\"props.state\"></slot>\n</template>\n<script setup>\n// TODO: expandable detail error\nimport {defineProps, useSlots, computed, ref, watch} from 'vue'\nimport {VAlert} from 'vuetify/components/VAlert'\nimport {States} from '../utils/state'\n\nconst slots = useSlots()\nconst props = defineProps({\n    state: Object,\n    delay: {type: Boolean, default: false},\n    okTitle: {type: String, default: \"\"},\n    noneTitle: {type: String, default: \"\"},\n    errorTitle: {type: String, default: \"Oups...\"},\n    processingTitle: {type: String, default: \"Processing...\"},\n})\n\n\nlet timeoutId = null\nlet expired = ref(false)\n\nwatch(() => props.state.state, (val) => {\n    if(timeoutId !== null)\n        window.clearTimeout(timeoutId)\n\n    if(!props.delay)\n        return\n\n    if(val == States.PROCESSING) {\n        expired.value = false\n        window.setTimeout(() => { expired.value = true }, 5000)\n    }\n})\n\nconst displayProcessing = computed(() => props.state?.isProcessing && (!props.delay || expired.value))\nconst messages = computed(() => props.state?.data?.messages)\n\n\n\n</script>\n","<template>\n    <div class=\"text-right\">\n        <v-btn color=\"error\" class=\"me-2\" :prepend-icon=\"props.resetIcon\"\n                @click=\"emit('reset')\"\n                :disabled=\"props.disabled\">\n            <slot name=\"discard\">{{ props.resetLabel || t('actions.discard') }}</slot>\n        </v-btn>\n        <v-btn v-if=\"props.state.isSending || props.state.isProcessing\"\n                color=\"primary\" :prepend-icon=\"props.processingIcon\" disabled>\n            <slot name=\"processing\">{{ props.processingLabel || t('actions.saving') }}</slot>\n        </v-btn>\n        <v-btn v-else color=\"primary\" :prepend-icon=\"props.validateIcon\"\n                @click=\"emit('validate')\"\n                :disabled=\"props.disabled || props.validateDisabled\">\n            <slot name=\"validate\">{{ props.validateLabel ||  t('actions.save') }}</slot>\n        </v-btn>\n        </div>\n</template>\n<script setup>\nimport {defineEmits, defineProps} from 'vue'\nimport { t } from '../composables'\n\nconst emit = defineEmits(['validate', 'reset'])\nconst props = defineProps({\n    resetLabel: String,\n    resetIcon: {type: String, default: \"mdi-close-circle\"},\n    validateLabel: String,\n    validateIcon: {type: String, default: \"mdi-content-save\"},\n    processingLabel: String,\n    processingIcon: {type: String, default: \"mdi-content-save\"},\n    disabled: {type: Boolean, default: false},\n    state: {type: Object, default: () => State.none()},\n    validateDisabled: {type: Boolean, default: false},\n})\n</script>\n","<template>\n    <ox-state-alert :state=\"state\">\n        <template #none=\"{state}\">\n            <p>Please enter your credentials in order too proceed...</p>\n        </template>\n        <template #ok-detail=\"{state}\">\n            <p v-if=\"props.next\">You soon will be redirected to <i>{{ props.next }}</i></p>\n        </template>\n        <!--\n        <template #error=\"{state}\">\n            <ox-field-details :errors=\"state.data?.username\"/>\n            <ox-field-details :errors=\"state.data?.password\"/>\n        </template>-->\n    </ox-state-alert>\n    <template v-if=\"!state.isOk\">\n        <v-text-field variant=\"underlined\"\n                label=\"Enter login\" v-model=\"credentials.username\"\n                @keyup.enter.stop=\"passwordInput.focus()\"\n                >\n        </v-text-field>\n        <v-text-field variant=\"underlined\" ref=\"password\"\n                label=\"Enter password\" v-model=\"credentials.password\"\n                :type=\"showPassword ? 'text' : 'password'\"\n                :append-icon=\"showPassword ? 'mdi-eye' : 'mdi-eye-off'\"\n                @click:append=\"showPassword = !showPassword\"\n                @keyup.enter.stop=\"login()\"\n                >\n        </v-text-field>\n        <div class=\"text-right mt-3\">\n            <slot name=\"default\" :value=\"credentials.password\">\n                <ox-validation-btn v-if=\"credentials.username && credentials.password\"\n                    validate-label=\"Login!\"\n                    @validate=\"login()\" @reset=\"reset()\"\n                    :state=\"state\"/>\n            </slot>\n        </div>\n    </template>\n</template>\n<script setup>\nimport {computed, inject, ref, reactive, defineModel, defineProps, useTemplateRef} from 'vue'\n\nimport OxStateAlert from './OxStateAlert'\nimport OxValidationBtn from './OxValidationBtn.vue'\nimport config from '../config'\n\nimport State from '../utils/state'\nimport {reset as $reset} from '../utils'\nimport {User} from '../models/auth'\n\n\nconst passwordInput = useTemplateRef('password')\n\nconst props = defineProps({\n    next: {type: String},\n    url: {type: String},\n})\n\nconst emit = defineEmits(['save', 'saved'])\nconst credentials = reactive({\n    username: '',\n    password: '',\n})\nconst showPassword = ref(false)\nconst state = reactive(new State())\n\nfunction reset(resetState=true) {\n    $reset(credentials, {\"username\": \"\", password: \"\"})\n    resetState && state.none()\n}\n\nasync function login() {\n    state.processing()\n\n    try {\n        const resp = await fetch(props.url, {\n            method: \"POST\",\n            headers: config.axiosConfig.headers,\n            body: JSON.stringify(credentials),\n        })\n        if(resp.status == 200) {\n            credentials.credentials = \"\"\n            credentials.password = \"\"\n            state.ok(await resp.json())\n\n            if(props.next)\n                window.location.href = props.next\n        }\n        else\n            state.error(await resp.json())\n    }\n    catch(error) {\n        state.ok(error?.message || error)\n    }\n}\n</script>\n","<template>\n    <ox-state-alert v-if=\"props.state\" :state=\"props.state\" delay/>\n\n    <template v-if=\"slots.prepend && panels.panel == panel.name\">\n        <slot name=\"prepend\"/>\n    </template>\n\n    <v-sheet class=\"ma-4\">\n        <Teleport to=\"#app-bar-sheet-title\" :disabled=\"!mounted || panels.panel != props.name\">\n            <v-icon v-if=\"props.icon\" :icon=\"props.icon\"/>\n            {{ props.title }}\n            <slot name=\"append-title\"/>\n        </Teleport>\n\n        <Teleport to=\"#app-bar-right\" :disabled=\"!mounted || panels.panel != props.name\">\n            <slot name=\"app-bar-right\"/>\n            <v-btn v-if=\"props.help\" class=\"ml-3\"\n                :href=\"props.help\" panels=\"new\"\n                icon=\"mdi-information-outline\" />\n        </Teleport>\n\n        <slot name=\"top\"/>\n\n        <slot name=\"default\">\n            <template v-if=\"views\">\n                <v-window v-model=\"panel.view\">\n                    <template v-for=\"(name, slot) in views\" :key=\"name\">\n                        <v-window-item :value=\"name\">\n                            <slot :name=\"slot\"></slot>\n                        </v-window-item>\n                    </template>\n                </v-window>\n            </template>\n        </slot>\n\n        <slot name=\"bottom\"></slot>\n    </v-sheet>\n\n    <template v-if=\"slots.append && panels.panel == panel.name\">\n        <slot name=\"append\"/>\n    </template>\n</template>\n<script setup lang=\"ts\">\n/**\n * Base component for displaying a panel.\n *\n *\n * Slots:\n * - side: if provided create a navigation drawer in which slot is put.\n * - top: at the top of all views\n * - bottom: at the bottom of all views\n * - views.[name]: a slot for each view\n */\n\n\nimport { defineProps, inject, onMounted, onUnmounted, ref, useSlots, watch } from 'vue'\nimport {filterSlots} from '@oxylus/ox'\n\nimport OxStateAlert from './OxStateAlert.vue'\nimport type {IPanelProps} from '../controllers'\n\nconst slots = useSlots()\nconst props = defineProps<IPanelProps>()\nconst views = filterSlots(slots, 'views.')\n\n// ensure teleport will be set after component has been mounted\nconst mounted = ref(false)\nonMounted(() => { mounted.value = true })\nonUnmounted(() => { mounted.value = false })\n\nconst panels = inject('panels')\nconst panel = inject('panel')\n</script>\n","<template>\n    <template v-if=\"tabs && Object.keys(tabs).length\">\n        <v-tabs v-model=\"tab\">\n            <slot name=\"tab\" v-if=\"slots.default\">\n                <v-tab :text=\"props?.title\" value=\"default\"/>\n            </slot>\n            <template v-for=\"(value, name) in tabs\">\n                <v-tab :value=\"value\">\n                    <slot :name=\"name\"/>\n                </v-tab>\n            </template>\n        </v-tabs>\n        <v-tabs-window v-model=\"tab\">\n            <v-tabs-window-item value=\"default\" v-if=\"slots.default\">\n                <slot name=\"default\"/>\n            </v-tabs-window-item>\n            <template v-for=\"(value, name) in windows\">\n                <v-tabs-window-item :value=\"value\">\n                    <slot :name=\"name\"/>\n                </v-tabs-window-item>\n            </template>\n        </v-tabs-window>\n    </template>\n    <template v-else>\n        <slot name=\"default\"/>\n    </template>\n</template>\n<script setup lang=\"ts\">\n/**\n * This represent a single view inside a Panel.\n *\n * A view can have multiple windows, in such case it is displayed using tabs.\n * Tabs are hidden when there is only one window slot in it.\n *\n * The default slots are `default` (for the content) and `tab.default` (for the tab).\n * Other slots can be named following the convention: `window.[name]` and `tab.[name]`.\n */\nimport { ref, defineProps, onMounted, useSlots } from 'vue'\nimport { filterSlots } from '@oxylus/ox'\n\nconst props = defineProps({\n    /** default tab title */\n    title: String,\n})\n\n/** Current tab/window value */\nconst tab = ref(null)\n\nconst slots = useSlots()\nconst tabs = filterSlots(slots, \"tab.\", {exclude: [\"tab.default\"]})\nconst windows = filterSlots(slots, \"window.\")\n</script>\n","<template>\n    <!-- @slot Before v-form. -->\n    <slot name=\"prepend\" v-bind=\"bind\"/>\n    <v-form ref=\"form\" v-model=\"editor.valid\" :disabled=\"!editable\">\n        <template #default>\n            <!-- @slot Inside v-form. -->\n            <slot name=\"default\" v-bind=\"bind\"/>\n        </template>\n    </v-form>\n    <!-- @slot After v-form. -->\n    <slot name=\"append\" v-bind=\"bind\"/>\n</template>\n<script setup lang=\"ts\">\n/**\n * This component provides a wrapper around a `v-form` that uses\n * {@link ModelEditor} in order to edit and save data to the server.\n *\n * It requires a `repo` to be provided.\n * Properties are defined using {@link IModelEditorProps} interface.\n *\n * Exposed:\n * - `editor`: the {@link ModelEditor} instance\n * - `editable`: a boolean computed value defining if user can edit the component.\n */\nimport { computed, defineExpose, inject, watch, ref } from 'vue'\nimport { t, useModelEditor } from '@oxylus/ox'\n\nimport type {IModelEditorProps} from '../controllers/modelEditor'\n\nconst form = ref(null)\nconst user = inject('user')\n\nconst props = defineProps<IModelEditorProps>()\nconst {editor, edited} = useModelEditor({props})\n\nconst editable = computed(() => user.can([editor.repo.use, 'change', props.initial]))\n\nconst bind = computed(() => ({\n    editor,\n    edited: edited.value,\n    form: form.value,\n    editable: editable.value,\n    disabled: !editable.value,\n    value: editor.value,\n    model: editor.repo.use\n}))\n\nwatch(() => editor.errors && Object.values(editor.errors), () => form.value.validate())\n\ndefineExpose({editor, edited, form, editable})\n</script>\n","<template>\n    <ox-state-alert v-if=\"modelEditor?.editor\" :state=\"modelEditor.editor.state\"/>\n    <v-container class=\"ox-model-edit\">\n        <ox-model-editor ref=\"modelEditor\" v-bind=\"modelEditorProps\">\n            <template #prepend=\"bind\">\n                <div v-if=\"!props.hideValidationBtn\">\n                    <slot name=\"prepend\" v-bind=\"bind\" :save=\"save\" :reset=\"reset\">\n                        <ox-validation-btn v-if=\"bind.editable && bind.edited\"\n                            @validate=\"save()\" @reset=\"reset()\" :state=\"bind.editor.state\" :validate-disabled=\"bind.editor.valid === false\"\n                            />\n                    </slot>\n                </div>\n            </template>\n\n            <template #default=\"bind\">\n                <slot name=\"default\" v-bind=\"bind\" :save=\"save\" :reset=\"reset\"/>\n            </template>\n\n            <template #append=\"bind\">\n                <slot name=\"append\" v-bind=\"bind\" :save=\"save\" :reset=\"reset\"/>\n            </template>\n        </ox-model-editor>\n    </v-container>\n</template>\n<script setup lang=\"ts\">\n/**\n * This component is a wrapper around {@link OxModelEditor}, providing a more\n * complete interface to handle object edition.\n *\n * It is used as standard edition component in edit views, and provides buttons\n * for validation ({@link OxValidationBtn}) and an alert.\n *\n */\nimport { computed, defineExpose, defineEmits, watch, ref, onMounted } from 'vue'\nimport type { State } from '@oxylus/ox'\nimport { t, useModelEditor } from '@oxylus/ox'\n\nimport OxStateAlert from './OxStateAlert.vue'\nimport OxValidationBtn from './OxValidationBtn.vue'\nimport OxModelEditor from './OxModelEditor'\n\nimport type {IModelEditorProps} from '../controllers/modelEditor'\n\ninterface IModelEdit extends IModelEditorProps {\n    /**\n     * Send data using `multipart/form-data` and form's `FormData`.\n     * The values will not be serialized into JSON before sending.\n     **/\n    sendFormData: boolean\n    /** If true, hide validation buttons */\n    hideValidationBtn: boolean\n}\n\nconst emits = defineEmits('saved')\nconst props = defineProps<IModelEdit>()\nconst modelEditor = ref(null)\nconst modelEditorProps = computed(() => {\n    const {sendFormData, hideValidationBtn, ...vals} = props\n    return vals\n})\n\n/**\n * Reset editor to initial values (provided by component's props).\n */\nfunction reset() {\n    modelEditor.value.editor.reset(props.initial)\n}\n\n/**\n * Save changes to the server, returning editor state once completed.\n */\nasync function save(): State {\n    const me = modelEditor.value\n    const resp = (props.sendFormData) ?\n        await me.editor.save(new FormData(me.form.$el)) :\n        await me.editor.save()\n    emits('saved', modelEditor.value.editor)\n    return resp\n}\n\n\n// TODO\n// watch(() => modelEditor.edited, (val) => panel.setEdition(\"\"))\n\ndefineExpose({\n    save, reset,\n\n    get editor() { return modelEditor.value.editor },\n    get edited() { return modelEditor.value.edited },\n    get editable() { return modelEditor.value.editable },\n    get form() { return modelEditor.value.form },\n})\n</script>\n","<template>\n    <ox-panel :name=\"props.name\" :title=\"panel.title\" :icon=\"panel.icon\"\n            :state=\"list.state\" :index=\"props.index\">\n        <template #append-title v-if=\"slots['append-title']\">\n            <slot name=\"append-title\" v-bind=\"bind\" />\n        </template>\n\n        <template #prepend v-if=\"slots['prepend']\">\n            <slot name=\"prepend\" v-bind=\"bind\" />\n        </template>\n\n        <template #append v-if=\"slots['append']\">\n            <slot name=\"append\" v-bind=\"bind\" />\n        </template>\n\n        <template #app-bar-right>\n            <slot name=\"app-bar-right\" v-bind=\"bind\"/>\n\n            <template v-if=\"panel.view.startsWith('list.')\">\n                <v-btn-group class=\"ml-3\" color=\"secondary\"\n                        density=\"compact\" variant=\"tonal\">\n                    <slot name=\"nav.list\" v-bind=\"bind\"/>\n                    <v-btn :title=\"t('actions.list.reload')\"\n                        :aria-label=\"t('actions.list.reload')\"\n                        @click=\"list.load()\">\n                        <v-icon>mdi-reload</v-icon>\n                    </v-btn>\n                    <v-btn v-if=\"filters\"\n                        :title=\"showFilters ? t('filters.hide') : t('filters.show')\"\n                        :aria-label=\"showFilters ? t('filters.hide') : t('filters.show')\"\n                        @click=\"showFilters = !showFilters\" :active=\"showFilters\">\n                        <v-icon :icon=\"filters.icon\"/>\n                    </v-btn>\n                </v-btn-group>\n            </template>\n            <template v-else-if=\"panel.view.startsWith('detail.') && panel.value\">\n                <v-btn-group class=\"ml-3\" color=\"secondary\" density=\"compact\" variant=\"tonal\">\n                    <slot name=\"nav.detail\" v-bind=\"bind\"/>\n\n                    <template v-if=\"panel.view == 'detail.edit' && panel.value\">\n                        <v-menu>\n                            <template #activator=\"{props}\">\n                                <v-btn prepend-icon=\"mdi-dots-vertical\" v-bind=\"props\">\n                                    {{ t('actions') }}\n                                </v-btn>\n                            </template>\n                            <v-list>\n                                <slot name=\"item.actions\" :item=\"panel.value\"/>\n                            </v-list>\n                        </v-menu>\n                    </template>\n\n                    <v-btn :disabled=\"!prev\"\n                            :title=\"t('prev')\" :aria-label=\"t('prev')\"\n                            @click.stop=\"panel.show({view: panel.view, value: prev})\">\n                        <v-icon icon=\"mdi-chevron-left\"/>\n                    </v-btn>\n                    <v-btn :disabled=\"!next\"\n                            :title=\"t('next')\" :aria-label=\"t('next')\"\n                            @click.stop=\"panel.show({view: panel.view, value: next})\">\n                        <v-icon icon=\"mdi-chevron-right\"/>\n                    </v-btn>\n                </v-btn-group>\n            </template>\n\n            <v-btn-toggle class=\"ml-3\" color=\"secondary\"\n                density=\"compact\" variant=\"tonal\" mandatory\n                v-model=\"panel.view\"\n                >\n                <!-- TODO: permission check -->\n                <v-btn value=\"list.table\"\n                        @click.capture.stop=\"panel.show({view: 'list.table'})\"\n                        :title=\"t('panels.nav.table')\"\n                        :aria-label=\"t('panels.nav.table')\">\n                    <v-icon>mdi-table</v-icon>\n                </v-btn>\n                <v-btn value=\"list.cards\"\n                        @click.capture.stop=\"panel.show({view: 'list.cards'})\"\n                        :title=\"t('panels.nav.cards')\"\n                        :aria-label=\"t('panels.nav.cards')\">\n                    <v-icon>mdi-view-grid</v-icon>\n                </v-btn>\n                <v-btn value=\"list.kanban\" v-if=\"slots['views.list.kanban']\"\n                        @click.capture.stop=\"panel.show({view: 'list.kanban'})\"\n                        :title=\"t('panels.nav.kanban')\"\n                        :aria-label=\"t('panels.nav.kanban')\">\n                    <v-icon>mdi-view-column</v-icon>\n                </v-btn>\n                <v-btn value=\"detail.edit\" v-if=\"hasEdit\"\n                        @click.capture.stop=\"panel.show({view: 'detail.edit', value: panel.value})\"\n                        :disabled=\"!panel.value?.id && panel.view != 'detail.edit'\"\n                        :title=\"t('panels.nav.edit')\"\n                        :aria-label=\"t('panels.nav.edit')\">\n                    <v-icon v-if=\"user.can([panel.model, 'change'])\">mdi-pencil</v-icon>\n                    <v-icon v-else>mdi-eye</v-icon>\n                </v-btn>\n                <v-btn value=\"detail.add\" v-if=\"hasEdit && user.can([panel.model, 'add'])\"\n                        @click.capture.stop=\"panel.create()\"\n                        :title=\"t('panels.nav.add')\"\n                        :aria-label=\"t('panels.nav.add')\">\n                    <v-icon>mdi-plus-box</v-icon>\n                </v-btn>\n                <slot name=\"nav.views\" v-bind=\"bind\"/>\n            </v-btn-toggle>\n\n            <slot name=\"app-bar-end\" v-bind=\"bind\"/>\n        </template>\n\n        <template #top>\n            <v-alert v-if=\"props.warning\" type=\"warning\" variant=\"tonal\" :text=\"props.warning\" />\n            <slot name=\"top\"/>\n            <ox-list-filters ref=\"filters\"\n                    v-show=\"panel.view.startsWith('list.') && showFilters\"\n                    :search=\"props.search\"\n                    teleport-to=\"#panel-list-actions\">\n                <template #default=\"bind\">\n                    <slot name=\"list.filters\" v-bind=\"bind\"/>\n                </template>\n            </ox-list-filters>\n        </template>\n\n        <!-- list.table is always provided -->\n        <template #views.list.table v-if=\"!slots['views.list.table']\">\n            <ox-list-table :list=\"list\" :items=\"items\" :headers=\"headers\" :edit=\"hasEdit\">\n                <template v-for=\"(_, name) in itemSlots\" v-slot:[name]=\"bind\" :key=\"name\">\n                    <slot :name=\"name\" v-bind=\"bind\"/>\n                </template>\n            </ox-list-table>\n        </template>\n\n        <template #views.list.cards v-if=\"!slots['views.list.cards']\">\n            <ox-list-card :list=\"list\" :items=\"items\" :edit=\"hasEdit\"\n                    :headers=\"props.headers\">\n                <template v-for=\"(_, name) in itemSlots\" v-slot:[name]=\"bind\" :key=\"name\">\n                    <slot :name=\"name\" v-bind=\"bind\"/>\n                </template>\n            </ox-list-card>\n        </template>\n\n        <template v-for=\"(name, slot) in viewsListSlots\" v-slot:[slot]>\n            <slot :name=\"slot\" v-bind=\"bind\"/>\n        </template>\n\n        <!-- FIXME: views.detail.edit shall be sloted too, not only nested ones? -->\n        <template #views.detail.edit v-if=\"hasEdit\">\n            <ox-view :title=\"t(`models.${panel.model.entity}`)\">\n                <template v-for=\"(name, slot) in editSlots\" #[name]>\n                    <slot :name=\"slot\" v-bind=\"bind\"/>\n                </template>\n            </ox-view>\n        </template>\n    </ox-panel>\n</template>\n<script setup lang=\"ts\">\nimport { computed, defineProps, defineExpose, inject, useTemplateRef, useSlots, toRefs, withDefaults, watch } from 'vue'\nimport { Teleport } from 'vue'\n\nimport OxAction from './OxAction'\nimport OxListFilters from './OxListFilters'\nimport OxListTable from './OxListTable'\nimport OxListCard from './OxListCard'\nimport OxPanel from './OxPanel'\nimport OxView from './OxView'\nimport OxModelEdit from './OxModelEdit'\n\nimport {t, filterSlots, useModelPanel} from '@oxylus/ox'\nimport type {IModelPanelProps} from '../controllers'\n\nconst slots = useSlots()\nconst viewsListSlots = filterSlots(slots, 'views.list.')\nconst itemSlots = filterSlots(slots, 'item.')\nconst editSlots = filterSlots(slots, 'views.detail.edit.')\nconst hasEdit = computed(() => !!Object.keys(editSlots).length)\n\nconst filters = useTemplateRef('filters')\nconst props = withDefaults(defineProps<IModelPanelProps>(), {\n    index: 'list.table',\n    search: 'search',\n    fetchRelations: true,\n})\n\nconst context = inject('context')\nconst user = inject('user')\nconst {panel, list, items, next, prev} = inject('panel') ?? useModelPanel({props})\nconst panels = panel.panels\n\nconst canEdit = computed(() =>  context.user.can([panel.model, panel.value?.id ? \"change\": \"add\"]))\n\nconst {showFilters} = toRefs(panel)\n\n/** List table headers */\nconst headers = computed(() => [\n    ...props.headers,\n    {key: 'actions', title: t('actions')},\n])\n\n/** This is called by editors once object has been saved */\nfunction saved(item) {\n    item = new props.repo.use(item)\n    panel.show({view: panel.view, value: item})\n    list.load()\n}\n\nconst bind = computed(() => ({\n    panel, panels, list, items, context,\n    saved,\n    value: panel.value,\n}))\n\nwatch(() => Object.values(list.filters), () => list.load())\n\ndefineExpose({list, panel, items, next, prev})\n</script>\n","import * as ox from './ox'\nimport {components as vendor} from '@oxylus/ox/vendor'\n\nexport * from './ox'\n\n\n/**\n * This is the base app config used for Oxylus' Vue based applicationns.\n *\n * It includes Oxylus components and some Vuetify's ones.\n *\n *\n * @example\n * // Example app.ts for another application.\n *\n * import {App} from '@oxylus/ox/components'\n * import * as components from './components'\n *\n * export default {\n *     extends: App,\n *     components,\n * }\n */\nexport const App = {\n    el: \"#app\",\n    delimiters: ['[[', ']]'],\n    components: {...ox, ...vendor},\n}\n"],"names":["props","__props","attrs","useAttrs","emits","__emit","user","inject","run","processing","allowed","useAction","_unref","_createElementBlock","_Fragment","_openBlock","_createBlock","_component_v_btn","_mergeProps","_component_v_list_item","panel","repos","item","OxAction","t","api","ref","panels","computed","shouldShow","x","show","vals","_component_v_list_group","_withCtx","itemProps","_createVNode","sub","i","_component_ox_app_nav_item","_component_v_list_subheader","_createTextVNode","_toDisplayString","_renderList","drawer","_useModel","opened","items","updateOpened","getOpened","val","_component_v_navigation_drawer","$event","_component_v_list","_renderSlot","_ctx","slots","useSlots","panelsSlots","filterSlots","nav","reactive","context","useAppContext","usePanels","onMounted","watch","onErrorCaptured","err","instance","info","_component_v_app","_component_v_snackbar","_cache","_component_v_app_bar","_component_v_app_bar_nav_icon","_component_v_app_bar_title","_createElementVNode","OxAppNav","_hoisted_1","logo","_component_v_img","_component_v_main","_component_v_tabs_window","bind","name","slot","_component_v_tabs_window_item","value","search","state","query","fetch","useQuery","selected","getItems","ids","missingIds","getMissing","resp","updateSelected","v","itemIds","id","lastSearch","load","debounce","reset","q","filters","entities","unionBy","ifNotEqualFn","old","__expose","VAutocomplete","_","_normalizeProps","_guardReactiveProps","_sfc_main","component","shallowRef","is","defineAsyncComponent","h","OxAutocomplete","fieldProps","helpKey","obj","args","helpText","rules","_component_v_select","_component_v_textarea","_component_v_checkbox","_component_v_text_field","list","useModelList","Query","remove","ifNotEqual","_withModifiers","hasFilters","k","icon","_component_v_toolbar","$t","$events","_component_v_list_item_title","newItem","can","_a","addItem","removeItem","index","_component_v_form","_component_v_divider","color","idx","assign","result","sorted","_component_v_sheet","_component_v_slide_group","header","_component_v_slide_group_item","selectedClass","_component_v_card","_component_v_card_title","itemSlots","headers","dst","field","tKeys","updateOptions","event","params","key","order","_component_v_data_table_server","OxActionEdit","notHeaders","_component_v_container","_hoisted_2","_component_v_avatar","_component_v_card_item","_hoisted_3","_component_v_label","isEmpty","_component_v_card_actions","_b","expired","States","displayProcessing","messages","VAlert","message","emit","passwordInput","useTemplateRef","credentials","showPassword","State","resetState","$reset","login","config","error","OxStateAlert","_withKeys","OxValidationBtn","views","mounted","onUnmounted","_Teleport","_component_v_icon","_component_v_window","_component_v_window_item","tab","tabs","windows","_component_v_tabs","_component_v_tab","form","editor","edited","useModelEditor","editable","modelEditor","modelEditorProps","sendFormData","hideValidationBtn","save","me","viewsListSlots","editSlots","hasEdit","next","prev","useModelPanel","showFilters","toRefs","saved","OxPanel","_component_v_btn_group","_component_v_menu","_component_v_btn_toggle","_component_v_alert","OxListFilters","_vShow","OxListTable","OxListCard","OxView","App","ox","vendor"],"mappings":"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"}